<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>55classSyntax</title>
    <style>
        p.export>img {
            width: 300px;
            height: 200px;
            object-fit: cover;
            display: block;
        }
    </style>
</head>

<body>
    <button id="btE">객체내용 출력버튼</button>

    <script>
        // class 구문법으로 객체 만들어 배열에 넣기
        
        // 인스턴스 만들기
        class CharactorInfo {
            constructor(name, dinner, num) {
                this.name = name;
                this.dinner = dinner;
                this.imgUrl = `/images/dinner_${num}.jpg`;
                this.imgAlt = this.dinner;
            } // 기본 구조 제작
            printOut() {
                return `${this.name}는 점심식사로 ${this.dinner} 먹었습니다 :D`;
            }
        }
        let charactor1 = new CharactorInfo('피카츄', '피자', 1);
        // console.log(charactor1); // 인스턴스 생성확인

        // 생성된 인스턴스를 배열로 만들기
        class Charactors {
            constructor() {
                this.charactors = []
            } // 빈 배열 생성
            newCharactor(name, dinner, num) {
                let arrChild = new CharactorInfo(name, dinner, num) // CharactorInfo 클래스 구문으로 생성된 인스턴스를 변수에 선언
                this.charactors.push(arrChild) // 해당 변수를 배열에 추가
                return arrChild
            }
            get allCharactors() {
                return this.charactors
            } // 배열확인
            get numberOfCharactors() {
                return this.charactors.length
            } // 배열 길이 확인
        }
        let charactors = new Charactors()
        charactors.newCharactor('피카츄', '피자', 1)
        charactors.newCharactor('파이리', '초밥', 2)
        charactors.newCharactor('꼬부기', '스테이크', 3)
        console.log(charactors.allCharactors); // 인스턴스가 추가된 배열 확인


        // 배열의 전체 결과값출력
        function exporting() {
            for (var i of charactors.allCharactors) {
                // 배열의 수 만큼 객체 생성
                let p = document.createElement(`p`);
                p.setAttribute(`class`, `export`)
                let img = document.createElement(`img`);
                p.appendChild(img);
                document.body.appendChild(p);

                let txt = document.createTextNode(`${i.name}는 점심식사로 ${i.dinner}  먹었습니다 :D`);
                p.appendChild(txt);
                img.setAttribute(`src`, `${i.imgUrl}`);
                img.setAttribute(`alt`, `${i.imgAlt}`);
            }

        }
        btE.addEventListener('click', exporting);
    </script>
</body>

</html>